import{i as A,g,s as P,h as B,j as E,k as F,l as T,d as H,r as L,m as V,o as W,b as w,e as b,w as x,c as m,n as h,p as j,q as k,F as G,t as M,v,f as p,x as q,y as z}from"./index-cc493b4b.js";import{m as D}from"./archive-d5cbca8a.js";import{r as N,U as R}from"./enc-utf8-4b74ee11.js";import{_ as S}from"./plugin-vueexport-helper-c27b6911.js";const $=()=>{};function K(s,n,o){let a;A(o)?a={evaluating:o}:a=o||{};const{lazy:r=!1,evaluating:t=void 0,shallow:i=!0,onError:l=$}=a,e=g(!r),c=i?P(n):g(n);let u=0;return B(async f=>{if(!e.value)return;u++;const d=u;let y=!1;t&&Promise.resolve().then(()=>{t.value=!0});try{const _=await s(C=>{f(()=>{t&&(t.value=!1),y||C()})});d===u&&(c.value=_)}catch(_){l(_)}finally{t&&d===u&&(t.value=!1),y=!0}}),r?E(()=>(e.value=!0,c.value)):c}const Q=async(s,n)=>{var i;const a=(i=(await fetch(s)).body)==null?void 0:i.getReader(),r=new Uint8Array(n);let t=0;for(;a!=null&&t<n;){const{done:l,value:e}=await a.read();for(let c=0;e!=null&&c<e.length&&t<n;++c)r[t++]=e[c];if(l)break}return await(a==null?void 0:a.cancel()),t<n?new Uint8Array(r.subarray(0,t)):r},X=s=>{let n=s.length-1,o=s[n],a=128;for(;(o&192)==128&&n>0;)o=s[--n],a=a>>1|128;if(a>128&&(o&a)==a)return s;o>=192&&n>0&&--n;const r=n+1;return r<length?new Uint8Array(s.subarray(0,r)):s};var U={exports:{}};(function(s,n){(function(o,a){s.exports=a(N())})(F,function(o){return function(){if(typeof ArrayBuffer=="function"){var a=o,r=a.lib,t=r.WordArray,i=t.init,l=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var c=e.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=e[f]<<24-f%4*8;i.call(this,u,c)}else i.apply(this,arguments)};l.prototype=t}}(),o.lib.WordArray})})(U);var Y=U.exports;const Z=T(Y),I=s=>(q("data-v-639228f4"),s=s(),z(),s),J={class:"archive-item"},O=["onClick","innerHTML"],ee={class:"archive-time"},te=I(()=>p("span",null,"创建日期：",-1)),ae=I(()=>p("span",null,"修改日期：",-1)),ne=H({__name:"IndexPage",setup(s){const n=L({archiveEnd:10,archives:[]}),o=V(),a=K(async()=>{const r=n.archives.splice(0,n.archiveEnd).map(async t=>{if(!t.summary){const i=await Q(t.path,140);t.summary=R.stringify(Z.create(X(i).buffer))}return t});return await Promise.all(r)});return W(async()=>{const r=[{path:"archives/essays/github-pages-with-vue3.md",birthtime:16969575952670657e-4,mtime:16970444724911375e-4,title:"用 Vue 3 写 GitHub Pages\r",summary:`# 用 Vue 3 写 GitHub Pages\r
\r
\`\`\`shell\r
# 编译 dist\r
npm run build\r
\r
# 把 dist 已提交的内容单独推送到远程分支 origin/gh`,createAt:"2023-10-11",modifyAt:"2023-10-12"}].map(async t=>({...t,path:`/archive?path=${t.path}`,summary:t.summary?await D.parse(t.summary+"..."):void 0}));n.archives=await Promise.all(r)}),(r,t)=>{const i=w("router-link"),l=w("center-part-page");return m(),b(l,{class:"index-page"},{default:x(()=>[(m(!0),h(G,null,j(k(a),e=>(m(),h("div",J,[e.summary?(m(),h("div",{key:0,class:"archive-summary",onClick:c=>k(o).push(e.path),innerHTML:e.summary},null,8,O)):(m(),b(i,{key:1,to:e.path},{default:x(()=>[M(v(e.title),1)]),_:2},1032,["to"])),p("div",ee,[te,p("span",null,v(e.createAt),1),ae,p("span",null,v(e.modifyAt),1)])]))),256))]),_:1})}}});const ce=S(ne,[["__scopeId","data-v-639228f4"]]);export{ce as default};
