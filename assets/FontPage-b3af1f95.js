import{y as i,r as x,F as u,C as m,I as g,H as d,G as s,N as c}from"./@vue-70ee5e1b.js";import{_ as f}from"./plugin-vueexport-helper-c27b6911.js";const v=i({__name:"FontPage",setup(w){const n=x("天若有情天亦老，道是無情道亦公。"),p=async a=>{const e=document.createElement("canvas");e.height=200;const o=e.getContext("2d");o.font=`4vw ${a}`;const t=o.measureText(n.value);e.width=t.width,o.font=`4vw ${a}`,console.log("textMetrics",t);const r=e.height-t.actualBoundingBoxAscent-t.actualBoundingBoxDescent;return o.fillText(n.value,0,e.height-r/2,e.width),new Promise(l=>{e.toBlob(l,"image/png")})},_=async a=>{const e=await p(a),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.onload=()=>URL.revokeObjectURL(o),t.download=`${a}.png`,t.click()};return(a,e)=>{const o=u("pc-form-textarea"),t=u("pc-center-part-box"),r=u("pc-center-part-layout");return m(),g(r,{class:"pc-toolbox-font-page"},{default:d(()=>[s(t,{class:"text-box"},{default:d(()=>[e[3]||(e[3]=c("h2",null,"默认字体",-1)),s(o,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),rows:"14"},null,8,["modelValue"])]),_:1}),s(t,{class:"text-box font-ebas927"},{default:d(()=>[c("h2",null,[e[4]||(e[4]=c("span",null,"小篆",-1)),c("span",{class:"download-link",onClick:e[1]||(e[1]=l=>_("ebas927"))},"下载")]),s(o,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),rows:"4"},null,8,["modelValue"])]),_:1})]),_:1})}}});const V=f(v,[["__scopeId","data-v-98ee0846"]]);export{V as default};
