import{g as m,o as g,u as S,c as w,w as z,i as A,r as v,s as M,a as W,b as C,d as E}from"./@vue-70ee5e1b.js";function O(e){return m()?(g(e),!0):!1}function R(e){return typeof e=="function"?e():S(e)}const k=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=()=>{};function F(e,n,o){let s;A(o)?s={evaluating:o}:s=o||{};const{lazy:c=!1,evaluating:t=void 0,shallow:l=!0,onError:f=B}=s,d=v(!c),u=l?M(n):v(n);let r=0;return W(async a=>{if(!d.value)return;r++;const i=r;let y=!1;t&&Promise.resolve().then(()=>{t.value=!0});try{const p=await e(b=>{a(()=>{t&&(t.value=!1),y||b()})});i===r&&(u.value=p)}catch(p){f(p)}finally{t&&i===r&&(t.value=!1),y=!0}}),c?w(()=>(d.value=!0,u.value)):u}function h(e){var n;const o=R(e);return(n=o==null?void 0:o.$el)!=null?n:o}const D=k?window:void 0;function G(){const e=v(!1),n=E();return n&&C(()=>{e.value=!0},n),e}function _(e){const n=G();return w(()=>(n.value,!!e()))}function I(e,n,o={}){const{window:s=D,...c}=o;let t;const l=_(()=>s&&"ResizeObserver"in s),f=()=>{t&&(t.disconnect(),t=void 0)},d=w(()=>Array.isArray(e)?e.map(a=>h(a)):[h(e)]),u=z(d,a=>{if(f(),l.value&&s){t=new ResizeObserver(n);for(const i of a)i&&t.observe(i,c)}},{immediate:!0,flush:"post"}),r=()=>{f(),u()};return O(r),{isSupported:l,stop:r}}export{F as c,I as u};
