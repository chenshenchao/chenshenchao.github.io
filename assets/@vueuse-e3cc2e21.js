import{g as F,o as O,w as W,u as S,c as h,i as T,r as v,s as x,a as A,b as P,d as z}from"./@vue-d261f537.js";function C(e){return F()?(O(e),!0):!1}function m(e){return typeof e=="function"?e():S(e)}const D=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const w=()=>{};function M(e,n){function o(...t){return new Promise((s,r)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(s).catch(r)})}return o}const R=e=>e();function E(e,n={}){let o,t,s=w;const r=u=>{clearTimeout(u),s(),s=w};return u=>{const c=m(e),a=m(n.maxWait);return o&&r(o),c<=0||a!==void 0&&a<=0?(t&&(r(t),t=null),Promise.resolve(u())):new Promise((i,l)=>{s=n.rejectOnCancel?l:i,a&&!t&&(t=setTimeout(()=>{o&&r(o),t=null,i(u())},a)),o=setTimeout(()=>{t&&r(t),t=null,i(u())},c)})}}function _(e,n,o={}){const{eventFilter:t=R,...s}=o;return W(e,M(t,n),s)}function V(e,n,o={}){const{debounce:t=0,maxWait:s=void 0,...r}=o;return _(e,n,{...r,eventFilter:E(t,{maxWait:s})})}function $(e,n,o){let t;T(o)?t={evaluating:o}:t=o||{};const{lazy:s=!1,evaluating:r=void 0,shallow:f=!0,onError:u=w}=t,c=v(!s),a=f?x(n):v(n);let i=0;return A(async l=>{if(!c.value)return;i++;const d=i;let b=!1;r&&Promise.resolve().then(()=>{r.value=!0});try{const p=await e(g=>{l(()=>{r&&(r.value=!1),b||g()})});d===i&&(a.value=p)}catch(p){u(p)}finally{r&&d===i&&(r.value=!1),b=!0}}),s?h(()=>(c.value=!0,a.value)):a}function y(e){var n;const o=m(e);return(n=o==null?void 0:o.$el)!=null?n:o}const j=D?window:void 0;function B(){const e=v(!1),n=z();return n&&P(()=>{e.value=!0},n),e}function G(e){const n=B();return h(()=>(n.value,!!e()))}function k(e,n,o={}){const{window:t=j,...s}=o;let r;const f=G(()=>t&&"ResizeObserver"in t),u=()=>{r&&(r.disconnect(),r=void 0)},c=h(()=>Array.isArray(e)?e.map(l=>y(l)):[y(e)]),a=W(c,l=>{if(u(),f.value&&t){r=new ResizeObserver(n);for(const d of l)d&&r.observe(d,s)}},{immediate:!0,flush:"post"}),i=()=>{u(),a()};return C(i),{isSupported:f,stop:i}}export{$ as c,k as u,V as w};
