import{y,r as i,c,b as R,C,D as S,N as p,F as d,I as E,H as g,G as m}from"./@vue-70ee5e1b.js";import{_ as b}from"./plugin-vueexport-helper-c27b6911.js";function w(u,s){return u?s(u):null}const N={class:"pc-image-bits-canvas"},z=y({__name:"BitsCanvas",setup(u){const s=i({width:64,height:64}),_=c(()=>s.value.width/s.value.height),l=i(),n=c(()=>{var e;return((e=l.value)==null?void 0:e.offsetWidth)??1}),v=c(()=>n.value/_.value),r=c(()=>{var e;return(e=l.value)==null?void 0:e.getContext("2d")}),o=c(()=>({width:n.value/s.value.width,height:v.value/s.value.height})),h=i(!1),x=i("#444"),M=()=>{console.log("canvas",l.value,r.value),w(r.value,e=>{e.clearRect(0,0,n.value,v.value),e.fillStyle="#4444";for(let a=0;a<s.value.width;++a)for(let t=0;t<s.value.height;++t)if((a+t)%2){const k=a*o.value.width,D=t*o.value.height;e.fillRect(k,D,o.value.width,o.value.height)}})},f=(e,a)=>{w(r.value,t=>{t.fillStyle=x.value,t.fillRect(e*o.value.width,a*o.value.height,o.value.width+1,o.value.height+1)})},B=e=>{h.value=!0;const a=Math.floor(e.offsetX/o.value.width),t=Math.floor(e.offsetY/o.value.height);console.log(e,a,t),f(a,t)},I=e=>{if(h.value){const a=Math.floor(e.offsetX/o.value.width),t=Math.floor(e.offsetY/o.value.height);console.log(e,a,t),f(a,t)}},P=e=>{console.log(e),h.value=!1};return R(()=>{l.value.width=n.value,l.value.height=v.value,console.log("ratio",_.value,n.value,v.value),M()}),(e,a)=>(C(),S("div",N,[a[0]||(a[0]=p("div",{class:"left-bar"},null,-1)),p("canvas",{ref_key:"canvasElement",ref:l,onMousedown:B,onMouseup:P,onMousemove:I},null,544)]))}});const H=b(z,[["__scopeId","data-v-494faf0b"]]),V=y({__name:"BitsImagePage",setup(u){return(s,_)=>{const l=d("pc-center-part-box"),n=d("pc-center-part-layout");return C(),E(n,{class:"pc-bits-image-page"},{default:g(()=>[m(l,null,{default:g(()=>[m(H)]),_:1})]),_:1})}}});const Y=b(V,[["__scopeId","data-v-365bdb18"]]);export{Y as default};
