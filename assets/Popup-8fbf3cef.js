import{v as _,r as v,d as m,c as y,T as h,V as b,b as x,W as g,X as w,F as E,B as P,Y as B,u as S,E as $}from"./@vue-65204f66.js";import{_ as L}from"./plugin-vueexport-helper-c27b6911.js";const u=t=>{const s={x:t.offsetLeft-t.scrollLeft,y:t.offsetTop-t.scrollTop};if(t.offsetParent){const o=u(t.offsetParent);s.x+=o.x,s.y+=o.y}return s},T=["data-popup-id"],k=_({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible","hold"],setup(t,{emit:s}){const o=t,n=v(),r=new Date().getTime().toString(),p=m({transform:"translate(0px, 0px)"}),l=y({get:()=>o.visible,set:e=>s("update:visible",e)}),d=e=>e.dataset["popup-id"]==r?!0:e.parentElement?d(e.parentElement):!1,c=e=>{const a=d(e.target);s("hold",a)};return h(()=>{document.body.appendChild(n.value),document.body.addEventListener("mousedown",c)}),b(()=>{document.body.removeEventListener("mousedown",c),document.body.removeChild(n.value)}),x(()=>o.visible,(e,a)=>{if(o.anchor){const i=u(o.anchor),f=i.y+n.value.offsetHeight;p.transform=`translate(${i.x}px, ${f}px)`}}),(e,a)=>g((E(),P("div",{class:"popup","data-popup-id":S(r),ref_key:"$el",ref:n,style:$(p)},[B(e.$slots,"default",{},void 0,!0)],12,T)),[[w,l.value]])}});const M=L(k,[["__scopeId","data-v-5dd8cb09"]]);export{M as default};
