import{m as P}from"./archive-558677f1.js";import{i as C,j as w,s as B,k as E,c as F,l as H,m as V,d as G,r as T,o as L,b,e as x,w as h,f as d,n as p,q as N,v as W,F as j,x as A,t as v,g as f,y as z,z as M,p as q,h as D}from"./index-61c265f0.js";import{r as S,U as R}from"./enc-utf8-ab213e3b.js";import{_ as $}from"./plugin-vueexport-helper-c27b6911.js";const K=()=>{};function Q(r,s,o){let t;C(o)?t={evaluating:o}:t=o||{};const{lazy:a=!1,evaluating:n=void 0,shallow:l=!0,onError:i=K}=t,e=w(!a),c=l?B(s):w(s);let u=0;return E(async m=>{if(!e.value)return;u++;const y=u;let g=!1;n&&Promise.resolve().then(()=>{n.value=!0});try{const _=await r(I=>{m(()=>{n&&(n.value=!1),g||I()})});y===u&&(c.value=_)}catch(_){i(_)}finally{n&&y===u&&(n.value=!1),g=!0}}),a?F(()=>(e.value=!0,c.value)):c}const X=async(r,s)=>{var l;const t=(l=(await fetch(r)).body)==null?void 0:l.getReader(),a=new Uint8Array(s);let n=0;for(;t!=null&&n<s;){const{done:i,value:e}=await t.read();for(let c=0;e!=null&&c<e.length&&n<s;++c)a[n++]=e[c];if(i)break}return await(t==null?void 0:t.cancel()),n<s?new Uint8Array(a.subarray(0,n)):a},Y=r=>{let s=r.length-1,o=r[s],t=128;for(;(o&192)==128&&s>0;)o=r[--s],t=t>>1|128;if(t>128&&(o&t)==t)return r;o>=192&&s>0&&--s;const a=s+1;return a<length?new Uint8Array(r.subarray(0,a)):r};var k={exports:{}};(function(r,s){(function(o,t){r.exports=t(S())})(H,function(o){return function(){if(typeof ArrayBuffer=="function"){var t=o,a=t.lib,n=a.WordArray,l=n.init,i=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var c=e.byteLength,u=[],m=0;m<c;m++)u[m>>>2]|=e[m]<<24-m%4*8;l.call(this,u,c)}else l.apply(this,arguments)};i.prototype=n}}(),o.lib.WordArray})})(k);var Z=k.exports;const J=V(Z),U=r=>(q("data-v-cd7f3dde"),r=r(),D(),r),O={class:"archive-item"},ee=["innerHTML"],te={class:"archive-info"},ae={key:0,class:"archive-info-item"},ne={class:"archive-info-item"},se=U(()=>f("span",null,"创建日期：",-1)),re={class:"archive-info-item"},oe=U(()=>f("span",null,"修改日期：",-1)),ie=G({__name:"IndexPage",setup(r){const s=T({archiveEnd:10,archives:[]}),o=Q(async()=>{const t=s.archives.splice(0,s.archiveEnd).map(async a=>{if(!a.summary){const n=await X(a.path,140);a.summary=R.stringify(J.create(Y(n).buffer))}return a});return await Promise.all(t)});return L(async()=>{const t=[{path:"reading/one-hundred-years-of-solitude.md",createAt:"2023-11-09",modifyAt:"2023-11-09",mtime:1699467645e3,title:"读《百年孤独》\r",summary:`# 读《百年孤独》\r
\r
人类的意义是什么？——不断创造意义。\r
意义的载体——逻辑。\r
\r
人生不是任何时�`},{path:"reading/catch-22.md",createAt:"2023-10-27",modifyAt:"2023-10-27",mtime:169834954e4,title:"读《第22条军规》\r",summary:`# 读《第22条军规》\r
\r
本书的章节名很有意思，每章都是一个人名，最后以主角约瑟连做章名完结。章名可`},{path:"reading/golden-age.md",createAt:"2023-10-27",modifyAt:"2023-10-27",mtime:169834954e4,title:"读《黄金时代》\r",summary:`# 读《黄金时代》\r
\r
读王小波的作品的时候总让我想起《第22条军规》里类似的荒诞又滑稽的场面，更荒诞`},{path:"essays/github-pages-with-vue3.md",createAt:"2023-10-11",modifyAt:"2023-10-16",mtime:1697395601e3,title:"用 Vue 3 写 GitHub Pages\r",summary:`# 用 Vue 3 写 GitHub Pages\r
\r
要写博客的话 GitHub Pages 是个不错的选择。但是 GitHub Pages 是静态的，并不能像常�`}].map(async a=>({...a,path:`/archive/${a.path}`,summary:a.summary?await P.parse(a.summary+"..."):void 0}));s.archives=await Promise.all(t)}),(t,a)=>{const n=b("router-link"),l=b("center-part-page");return d(),x(l,{class:"index-page"},{default:h(()=>[(d(!0),p(j,null,N(W(o),i=>(d(),p("div",O,[i.summary?(d(),p("div",{key:0,class:"archive-summary",innerHTML:i.summary},null,8,ee)):(d(),x(n,{key:1,to:i.path},{default:h(()=>[A(v(i.title),1)]),_:2},1032,["to"])),f("div",te,[i.summary?(d(),p("div",ae,[z(n,{to:i.path},{default:h(()=>[A("查看全文")]),_:2},1032,["to"])])):M("",!0),f("div",ne,[se,f("span",null,v(i.createAt),1)]),f("div",re,[oe,f("span",null,v(i.modifyAt),1)])])]))),256))]),_:1})}}});const fe=$(ie,[["__scopeId","data-v-cd7f3dde"]]);export{fe as default};
