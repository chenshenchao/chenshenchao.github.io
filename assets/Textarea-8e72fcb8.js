import{y as m,r as g,h as v,c as f,b as h,W as x,C as y,D as b,X as V,_ as T,N as B,a1 as k}from"./@vue-e3933814.js";import{_ as z}from"./plugin-vueexport-helper-c27b6911.js";const C={class:"pc-form-textarea"},M=m({__name:"Textarea",props:{modelValue:{}},emits:["update:modelValue"],setup(p,{emit:d}){const _=p,a=g(),r=v({height:"auto"}),n=e=>parseFloat(e.substring(0,e.length-2)),l=new ResizeObserver(e=>{for(const t of e)if(t.target==a.value){const o=getComputedStyle(t.target),s=n(o.getPropertyValue("line-height")),u=n(o.getPropertyValue("height")),i=Math.ceil(u/s);console.log("onResize",s,u,i),r.height=`${s*i}px`}}),c=f({get:()=>_.modelValue,set:e=>d("update:modelValue",e)});return h(()=>{l.observe(a.value)}),x(()=>{l.unobserve(a.value)}),(e,t)=>(y(),b("div",C,[V(B("textarea",k({ref_key:"textarea",ref:a,"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o)},e.$attrs,{style:r}),null,16),[[T,c.value]])]))}});const D=z(M,[["__scopeId","data-v-b19c7e07"]]);export{D as default};
