# [草稿]语言

语言是思考的工具，使用什么样的编程语言决定了你对程序的理解。
所以面对不同的问题，最优的解决方式几乎就是为这个问题创造一门语言。
比如人们为了解决数学问题，创造出了数学语言。
从此 “1 + 1 = 2” 而不是 “一加一等于二”，或者 “One plus one equals two” 地表达。

开始学编程，也是从学习某种语言开始地，单一地使用某种语言是不可能的。
你会在开发种不断地学会各种语言。
从最简单的 HTML、CSS、JS、正则、SQL 这些常用的专用语言，没有这些你几乎不可能完成你的 Web 项目。
同时你还要学会自己的主语言，如 Java、C#、Python、Go、PHP 这些。
随着项目的复杂度增加，单一的主语言也不可行，你需要使用多种语言。
比如一个 Python 写的 AI 端配上你原先使用的 Java Web 端和用 C# 写的 Unity 游戏客户端。

多语言有个巴别塔的魔咒，就是语言会增加沟通成本，所以你会需要各种诸如 JSON、Protobuf、XML 用于 API 或 RPC 传递数据的语言。

编程很大程度上是个偏向语文的工作，编写代码就像写作。“算法工程师”这种偏向数学的岗位被单拎出来。

语言既然对编程如此重要，编译器的开发在计算机开始之初就一直进行到了现在，没有停过。
是不是你就会听到一个新语言发布，或者某某库发布了，你进去一看，这个库又引入了一种新语言。
这种语言可以很简单且很像某个已有语言，比如：

1. Protobuf 为数据结构定义设计。
2. Prisma 为数据库设计。
3. go-zero 的 API 为接口设计。

## 设计


## 实现

只是单纯地靠 AST 来解释执行程序是很低效的，原因：

1. AST 是以树节点的形式分散在内存的，现代 CPU 都是靠着多级缓存提高效率，分散的内存缓存命中率很低。
2. AST 缺少虚拟机以栈或者寄存器形式预先分配好内存，动态分配频繁。

这就是为什么虽然可以直接就用 AST 运行程序，但是很多语言还是要带个虚拟机，把 AST 转换成字节码的原因。

