import{d as m,j as g,r as v,c as f,C as h,G as x,f as y,q as V,H as b,P as T,g as B,O as P}from"./index-71d585f3.js";import{_ as k}from"./plugin-vueexport-helper-c27b6911.js";const z={class:"form-textarea"},C=m({__name:"Textarea",props:{modelValue:{}},emits:["update:modelValue"],setup(d,{emit:p}){const _=d,a=g(),r=v({height:"auto"}),n=e=>parseFloat(e.substring(0,e.length-2)),l=new ResizeObserver(e=>{for(const t of e)if(t.target==a.value){const o=getComputedStyle(t.target),s=n(o.getPropertyValue("line-height")),u=n(o.getPropertyValue("height")),i=Math.ceil(u/s);console.log("onResize",s,u,i),r.height=`${s*i}px`}}),c=f({get:()=>_.modelValue,set:e=>p("update:modelValue",e)});return h(()=>{l.observe(a.value)}),x(()=>{l.unobserve(a.value)}),(e,t)=>(y(),V("div",z,[b(B("textarea",P({ref_key:"textarea",ref:a,"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o)},e.$attrs,{style:r}),null,16),[[T,c.value]])]))}});const w=k(C,[["__scopeId","data-v-661d567c"]]);export{w as default};
