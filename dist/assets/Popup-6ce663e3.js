import{v as _,r as v,d as m,c as y,T as h,V as b,b as x,W as g,X as w,A as P,B,Y as E,u as S,I as $}from"./@vue-9cc5f714.js";import{_ as L}from"./plugin-vueexport-helper-c27b6911.js";const u=t=>{const s={x:t.offsetLeft-t.scrollLeft,y:t.offsetTop-t.scrollTop};if(t.offsetParent){const o=u(t.offsetParent);s.x+=o.x,s.y+=o.y}return s},T=["data-popup-id"],k=_({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible","hold"],setup(t,{emit:s}){const o=t,n=v(),r=new Date().getTime().toString(),p=m({transform:"translate(0px, 0px)"}),l=y({get:()=>o.visible,set:e=>s("update:visible",e)}),d=e=>e.dataset["popup-id"]==r?!0:e.parentElement?d(e.parentElement):!1,i=e=>{const a=d(e.target);s("hold",a)};return h(()=>{document.body.appendChild(n.value),document.body.addEventListener("mousedown",i)}),b(()=>{document.body.removeEventListener("mousedown",i),document.body.removeChild(n.value)}),x(()=>o.visible,(e,a)=>{if(o.anchor){const c=u(o.anchor),f=c.y+n.value.offsetHeight;p.transform=`translate(${c.x}px, ${f}px)`}}),(e,a)=>g((P(),B("div",{class:"pc-popup","data-popup-id":S(r),ref_key:"$el",ref:n,style:$(p)},[E(e.$slots,"default",{},void 0,!0)],12,T)),[[w,l.value]])}});const I=L(k,[["__scopeId","data-v-46f31ded"]]);export{I as default};
