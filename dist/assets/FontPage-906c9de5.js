import{c as x}from"./@vueuse-a7ac5737.js";import{u as g}from"./index-c75a02f6.js";import{y as w,r as b,F as m,C as v,I as y,H as c,G as p,N as i,u as B}from"./@vue-70ee5e1b.js";import{_ as V}from"./plugin-vueexport-helper-c27b6911.js";import"./pinia-291a7b71.js";import"./pinia-plugin-persistedstate-edc41a6e.js";import"./lodash-29222819.js";import"./crypto-js-9bf15f03.js";import"./vue-router-85440993.js";import"./highlight.js-665a622b.js";import"./highlight.js-lib-languages-1-b101391b.js";import"./highlight.js-lib-languages-a-16a177ab.js";import"./highlight.js-lib-languages-x-364ed794.js";import"./highlight.js-lib-languages-b-b6e567a1.js";import"./highlight.js-lib-languages-c-234f4f8e.js";import"./highlight.js-lib-languages-d-7b8159cb.js";import"./highlight.js-lib-languages-m-b6de83b3.js";import"./highlight.js-lib-languages-e-fad85485.js";import"./highlight.js-lib-languages-r-53dfddc0.js";import"./highlight.js-lib-languages-f-8820c8d5.js";import"./highlight.js-lib-languages-g-ea579cf1.js";import"./highlight.js-lib-languages-h-74f34ea6.js";import"./highlight.js-lib-languages-i-d0f5bb2d.js";import"./highlight.js-lib-languages-j-ef705224.js";import"./highlight.js-lib-languages-k-220e6614.js";import"./highlight.js-lib-languages-l-555830da.js";import"./highlight.js-lib-languages-p-f2205468.js";import"./highlight.js-lib-languages-n-816e5f3a.js";import"./highlight.js-lib-languages-o-b41baf90.js";import"./highlight.js-lib-languages-q-2501bc69.js";import"./highlight.js-lib-languages-s-a87df519.js";import"./highlight.js-lib-languages-t-23d3f6da.js";import"./highlight.js-lib-languages-y-3713b1da.js";import"./highlight.js-lib-languages-v-73a12446.js";import"./highlight.js-lib-languages-w-568a4b3d.js";import"./highlight.js-lib-languages-z-d809bd39.js";/* empty css                      */const k=async(u,s)=>{const e=new FontFace(u,`url(${s})`);return document.fonts.has(e)?e:(document.fonts.add(e),await e.load())},C=w({__name:"FontPage",setup(u){const s=g(),e=b("天若有情天亦老，道是無情道亦公。"),d=x(async a=>{s.isLoading=!0,a(()=>s.isLoading=!1);const t=await k("ebas927","/fonts/ebas927.ttf");return s.isLoading=!1,t},null),f=async a=>{const t=document.createElement("canvas");t.height=200;const n=t.getContext("2d");n.font=`4vw ${a}`;const o=n.measureText(e.value);t.width=o.width,n.font=`4vw ${a}`,console.log("textMetrics",o);const l=t.height-o.actualBoundingBoxAscent-o.actualBoundingBoxDescent;return n.fillText(e.value,0,t.height-l/2,t.width),new Promise(r=>{t.toBlob(r,"image/png")})},_=async a=>{const t=await f(a),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.onload=()=>URL.revokeObjectURL(n),o.download=`${a}.png`,o.click()};return(a,t)=>{const n=m("pc-form-textarea"),o=m("pc-center-part-box"),l=m("pc-center-part-layout");return v(),y(l,{class:"pc-toolbox-font-page"},{default:c(()=>[p(o,{class:"text-box"},{default:c(()=>[t[3]||(t[3]=i("h2",null,"默认字体",-1)),p(n,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),rows:"14"},null,8,["modelValue"])]),_:1}),p(o,{class:"text-box font-ebas927"},{default:c(()=>[i("h2",null,[t[4]||(t[4]=i("span",null,"小篆",-1)),i("span",{class:"download-link",onClick:t[1]||(t[1]=r=>_(B(d).family))},"下载")]),p(n,{modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=r=>e.value=r),rows:"4"},null,8,["modelValue"])]),_:1})]),_:1})}}});const lt=V(C,[["__scopeId","data-v-497f3b37"]]);export{lt as default};
