import{y as m,r as v,h as y,c as h,b,U as x,w,V as g,W as P,C as E,D as L,X as S,u as $,L as B}from"./@vue-d261f537.js";import{_ as C}from"./plugin-vueexport-helper-c27b6911.js";const l=t=>{const s={x:t.offsetLeft-t.scrollLeft,y:t.offsetTop-t.scrollTop};if(t.offsetParent){const o=l(t.offsetParent);s.x+=o.x,s.y+=o.y}return s},D=["data-popup-id"],k=m({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible","hold"],setup(t,{emit:s}){const o=v(),r=new Date().getTime().toString(),n=t,p=s,i=y({transform:"translate(0px, 0px)"}),f=h({get:()=>n.visible,set:e=>p("update:visible",e)}),c=e=>e.dataset["popup-id"]==r?!0:e.parentElement?c(e.parentElement):!1,d=e=>{const a=c(e.target);p("hold",a)};return b(()=>{document.body.appendChild(o.value),document.body.addEventListener("mousedown",d)}),x(()=>{document.body.removeEventListener("mousedown",d),document.body.removeChild(o.value)}),w(()=>n.visible,(e,a)=>{if(n.anchor){const u=l(n.anchor),_=u.y+o.value.offsetHeight;i.transform=`translate(${u.x}px, ${_}px)`}}),(e,a)=>g((E(),L("div",{class:"pc-popup","data-popup-id":$(r),ref_key:"$el",ref:o,style:B(i)},[S(e.$slots,"default",{},void 0,!0)],12,D)),[[P,f.value]])}});const U=C(k,[["__scopeId","data-v-46f31ded"]]);export{U as default};
