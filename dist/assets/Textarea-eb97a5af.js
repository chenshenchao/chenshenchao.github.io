import{v as m,r as v,d as g,c as f,T as h,V as x,A as V,B as y,W as b,Z as T,L as B,a0 as k}from"./@vue-9cc5f714.js";import{_ as z}from"./plugin-vueexport-helper-c27b6911.js";const M={class:"pc-form-textarea"},P=m({__name:"Textarea",props:{modelValue:{}},emits:["update:modelValue"],setup(p,{emit:d}){const _=p,a=v(),r=g({height:"auto"}),n=e=>parseFloat(e.substring(0,e.length-2)),l=new ResizeObserver(e=>{for(const t of e)if(t.target==a.value){const o=getComputedStyle(t.target),s=n(o.getPropertyValue("line-height")),u=n(o.getPropertyValue("height")),i=Math.ceil(u/s);console.log("onResize",s,u,i),r.height=`${s*i}px`}}),c=f({get:()=>_.modelValue,set:e=>d("update:modelValue",e)});return h(()=>{l.observe(a.value)}),x(()=>{l.unobserve(a.value)}),(e,t)=>(V(),y("div",M,[b(B("textarea",k({ref_key:"textarea",ref:a,"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o)},e.$attrs,{style:r}),null,16),[[T,c.value]])]))}});const F=z(P,[["__scopeId","data-v-b19c7e07"]]);export{F as default};
