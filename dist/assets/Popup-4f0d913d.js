import{y as _,r as v,h as m,c as y,b as h,W as b,w as x,X as w,Y as g,C as P,D as E,Z as L,u as S,L as $}from"./@vue-e3933814.js";import{_ as B}from"./plugin-vueexport-helper-c27b6911.js";const u=t=>{const s={x:t.offsetLeft-t.scrollLeft,y:t.offsetTop-t.scrollTop};if(t.offsetParent){const o=u(t.offsetParent);s.x+=o.x,s.y+=o.y}return s},C=["data-popup-id"],D=_({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible","hold"],setup(t,{emit:s}){const o=t,n=v(),r=new Date().getTime().toString(),p=m({transform:"translate(0px, 0px)"}),l=y({get:()=>o.visible,set:e=>s("update:visible",e)}),d=e=>e.dataset["popup-id"]==r?!0:e.parentElement?d(e.parentElement):!1,i=e=>{const a=d(e.target);s("hold",a)};return h(()=>{document.body.appendChild(n.value),document.body.addEventListener("mousedown",i)}),b(()=>{document.body.removeEventListener("mousedown",i),document.body.removeChild(n.value)}),x(()=>o.visible,(e,a)=>{if(o.anchor){const c=u(o.anchor),f=c.y+n.value.offsetHeight;p.transform=`translate(${c.x}px, ${f}px)`}}),(e,a)=>w((P(),E("div",{class:"pc-popup","data-popup-id":S(r),ref_key:"$el",ref:n,style:$(p)},[L(e.$slots,"default",{},void 0,!0)],12,C)),[[g,l.value]])}});const M=B(D,[["__scopeId","data-v-46f31ded"]]);export{M as default};
