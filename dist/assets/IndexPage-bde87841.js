import{m as A}from"./archive-94fcc514.js";import{i as C,j as w,s as B,k as E,c as F,l as H,m as V,d as G,r as T,o as L,b,e as x,w as v,f as _,n as d,q as N,v as W,F as j,x as k,t as h,g as m,y as z,z as M,p as q,h as D}from"./index-764920a7.js";import{r as S,U as R}from"./enc-utf8-193c12df.js";import{_ as $}from"./plugin-vueexport-helper-c27b6911.js";const K=()=>{};function Q(r,n,o){let t;C(o)?t={evaluating:o}:t=o||{};const{lazy:a=!1,evaluating:s=void 0,shallow:l=!0,onError:i=K}=t,e=w(!a),c=l?B(n):w(n);let u=0;return E(async f=>{if(!e.value)return;u++;const y=u;let g=!1;s&&Promise.resolve().then(()=>{s.value=!0});try{const p=await r(P=>{f(()=>{s&&(s.value=!1),g||P()})});y===u&&(c.value=p)}catch(p){i(p)}finally{s&&y===u&&(s.value=!1),g=!0}}),a?F(()=>(e.value=!0,c.value)):c}const X=async(r,n)=>{var l;const t=(l=(await fetch(r)).body)==null?void 0:l.getReader(),a=new Uint8Array(n);let s=0;for(;t!=null&&s<n;){const{done:i,value:e}=await t.read();for(let c=0;e!=null&&c<e.length&&s<n;++c)a[s++]=e[c];if(i)break}return await(t==null?void 0:t.cancel()),s<n?new Uint8Array(a.subarray(0,s)):a},Y=r=>{let n=r.length-1,o=r[n],t=128;for(;(o&192)==128&&n>0;)o=r[--n],t=t>>1|128;if(t>128&&(o&t)==t)return r;o>=192&&n>0&&--n;const a=n+1;return a<length?new Uint8Array(r.subarray(0,a)):r};var U={exports:{}};(function(r,n){(function(o,t){r.exports=t(S())})(H,function(o){return function(){if(typeof ArrayBuffer=="function"){var t=o,a=t.lib,s=a.WordArray,l=s.init,i=s.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var c=e.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=e[f]<<24-f%4*8;l.call(this,u,c)}else l.apply(this,arguments)};i.prototype=s}}(),o.lib.WordArray})})(U);var Z=U.exports;const J=V(Z),I=r=>(q("data-v-5ead46ae"),r=r(),D(),r),O={class:"archive-item"},ee=["innerHTML"],te={class:"archive-info"},ae={key:0,class:"archive-info-item"},se={class:"archive-info-item"},ne=I(()=>m("span",null,"创建日期：",-1)),re={class:"archive-info-item"},oe=I(()=>m("span",null,"修改日期：",-1)),ie=G({__name:"IndexPage",setup(r){const n=T({archiveEnd:10,archives:[]}),o=Q(async()=>{const t=n.archives.splice(0,n.archiveEnd).map(async a=>{if(!a.summary){const s=await X(a.path,140);a.summary=R.stringify(J.create(Y(s).buffer))}return a});return await Promise.all(t)});return L(async()=>{const t=[{path:"essays/github-pages-with-vue3.md",createAt:"2023-10-11",modifyAt:"2023-10-16",mtime:1697395601e3,title:"用 Vue 3 写 GitHub Pages\r",summary:`# 用 Vue 3 写 GitHub Pages\r
\r
要写博客的话 GitHub Pages 是个不错的选择。但是 GitHub Pages 是静态的，并不能像常�`}].map(async a=>({...a,path:`/archive/${a.path}`,summary:a.summary?await A.parse(a.summary+"..."):void 0}));n.archives=await Promise.all(t)}),(t,a)=>{const s=b("router-link"),l=b("center-part-page");return _(),x(l,{class:"index-page"},{default:v(()=>[(_(!0),d(j,null,N(W(o),i=>(_(),d("div",O,[i.summary?(_(),d("div",{key:0,class:"archive-summary",innerHTML:i.summary},null,8,ee)):(_(),x(s,{key:1,to:i.path},{default:v(()=>[k(h(i.title),1)]),_:2},1032,["to"])),m("div",te,[i.summary?(_(),d("div",ae,[z(s,{to:i.path},{default:v(()=>[k("查看全文")]),_:2},1032,["to"])])):M("",!0),m("div",se,[ne,m("span",null,h(i.createAt),1)]),m("div",re,[oe,m("span",null,h(i.modifyAt),1)])])]))),256))]),_:1})}}});const me=$(ie,[["__scopeId","data-v-5ead46ae"]]);export{me as default};
