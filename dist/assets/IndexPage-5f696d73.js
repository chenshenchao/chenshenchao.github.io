import{i as E,g as b,s as T,h as F,j as I,k as H,l as L,d as V,r as W,m as j,o as z,b as x,e as w,w as k,c as m,n as _,p as U,F as C,q as y,t as G,f as p,v as h,x as M,y as R,z as $}from"./index-487ddb54.js";import{m as q}from"./archive-fd8cc2de.js";import{r as D,U as N}from"./enc-utf8-1d690532.js";import{_ as S}from"./plugin-vueexport-helper-c27b6911.js";const K=()=>{};function Q(o,r,i){let a;E(i)?a={evaluating:i}:a=i||{};const{lazy:c=!1,evaluating:e=void 0,shallow:s=!0,onError:f=K}=a,t=b(!c),n=s?T(r):b(r);let l=0;return F(async u=>{if(!t.value)return;l++;const v=l;let g=!1;e&&Promise.resolve().then(()=>{e.value=!0});try{const d=await o(B=>{u(()=>{e&&(e.value=!1),g||B()})});v===l&&(n.value=d)}catch(d){f(d)}finally{e&&v===l&&(e.value=!1),g=!0}}),c?I(()=>(t.value=!0,n.value)):n}const X=async(o,r)=>{var s;const a=(s=(await fetch(o)).body)==null?void 0:s.getReader(),c=new Uint8Array(r);let e=0;for(;a!=null&&e<r;){const{done:f,value:t}=await a.read();for(let n=0;t!=null&&n<t.length&&e<r;++n)c[e++]=t[n];if(f)break}return await(a==null?void 0:a.cancel()),e<r?new Uint8Array(c.subarray(0,e)):c},Y=o=>{let r=o.length-1,i=o[r],a=128;for(;(i&192)==128&&r>0;)i=o[--r],a=a>>1|128;if(a>128&&(i&a)==a)return o;i>=192&&r>0&&--r;const c=r+1;return c<length?new Uint8Array(o.subarray(0,c)):o};var A={exports:{}};(function(o,r){(function(i,a){o.exports=a(D())})(H,function(i){return function(){if(typeof ArrayBuffer=="function"){var a=i,c=a.lib,e=c.WordArray,s=e.init,f=e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||typeof Uint8ClampedArray<"u"&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,l=[],u=0;u<n;u++)l[u>>>2]|=t[u]<<24-u%4*8;s.call(this,l,n)}else s.apply(this,arguments)};f.prototype=e}}(),i.lib.WordArray})})(A);var Z=A.exports;const J=L(Z),P=o=>(R("data-v-2ab49176"),o=o(),$(),o),O=["onClick"],tt=["src"],et={class:"archive-item"},nt=["onClick","innerHTML"],at={class:"archive-time"},st=P(()=>p("span",null,"创建日期：",-1)),rt=P(()=>p("span",null,"修改日期：",-1)),ot=V({__name:"IndexPage",setup(o){const r=W({archiveEnd:10,archives:[]}),i=j(),a=I(()=>G.filter(e=>{var s;return((s=e.meta)==null?void 0:s.inToolbox)==!0})),c=Q(async()=>{const e=r.archives.splice(0,r.archiveEnd).map(async s=>{if(!s.summary){const f=await X(s.path,140);s.summary=N.stringify(J.create(Y(f).buffer))}return s});return await Promise.all(e)});return z(async()=>{const e=[{path:"archives/essays/github-pages-with-vue3.md",birthtime:16969575952670657e-4,mtime:16970444724911375e-4,title:"用 Vue 3 写 GitHub Pages\r",summary:`# 用 Vue 3 写 GitHub Pages\r
\r
\`\`\`shell\r
# 编译 dist\r
npm run build\r
\r
# 把 dist 已提交的内容单独推送到远程分支 origin/gh`,createAt:"2023-10-11",modifyAt:"2023-10-12"}].map(async s=>({...s,path:`/archive?path=${s.path}`,summary:s.summary?await q.parse(s.summary+"..."):void 0}));r.archives=await Promise.all(e)}),(e,s)=>{const f=x("router-link"),t=x("center-part-page");return m(),w(t,{class:"index-page"},{default:k(()=>[(m(!0),_(C,null,U(a.value,n=>{var l,u;return m(),_("div",{class:"toolbox-item",onClick:v=>y(i).push(n.alias)},[p("img",{src:(l=n.meta)==null?void 0:l.iconUri},null,8,tt),p("span",null,h((u=n.meta)==null?void 0:u.iconText),1)],8,O)}),256)),(m(!0),_(C,null,U(y(c),n=>(m(),_("div",et,[n.summary?(m(),_("div",{key:0,class:"archive-summary",onClick:l=>y(i).push(n.path),innerHTML:n.summary},null,8,nt)):(m(),w(f,{key:1,to:n.path},{default:k(()=>[M(h(n.title),1)]),_:2},1032,["to"])),p("div",at,[st,p("span",null,h(n.createAt),1),rt,p("span",null,h(n.modifyAt),1)])]))),256))]),_:1})}}});const ft=S(ot,[["__scopeId","data-v-2ab49176"]]);export{ft as default};
