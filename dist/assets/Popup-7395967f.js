import{d as _,j as v,r as m,c as y,C as h,D as b,E as x,G as g,H as w,f as E,n as P,B,v as S,I as $}from"./index-61c265f0.js";import{_ as C}from"./plugin-vueexport-helper-c27b6911.js";const l=t=>{const s={x:t.offsetLeft-t.scrollLeft,y:t.offsetTop-t.scrollTop};if(t.offsetParent){const o=l(t.offsetParent);s.x+=o.x,s.y+=o.y}return s},D=["data-popup-id"],L=_({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible","hold"],setup(t,{emit:s}){const o=t,n=v(),r=new Date().getTime().toString(),p=m({transform:"translate(0px, 0px)"}),u=y({get:()=>o.visible,set:e=>s("update:visible",e)}),d=e=>e.dataset["popup-id"]==r?!0:e.parentElement?d(e.parentElement):!1,c=e=>{const a=d(e.target);s("hold",a)};return h(()=>{document.body.appendChild(n.value),document.body.addEventListener("mousedown",c)}),b(()=>{document.body.removeEventListener("mousedown",c),document.body.removeChild(n.value)}),x(()=>o.visible,(e,a)=>{if(o.anchor){const i=l(o.anchor),f=i.y+n.value.offsetHeight;p.transform=`translate(${i.x}px, ${f}px)`}}),(e,a)=>g((E(),P("div",{class:"popup","data-popup-id":S(r),ref_key:"$el",ref:n,style:$(p)},[B(e.$slots,"default",{},void 0,!0)],12,D)),[[w,u.value]])}});const H=C(L,[["__scopeId","data-v-5dd8cb09"]]);export{H as default};
